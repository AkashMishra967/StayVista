<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<style>
    /* Desktop Styles */
    .search-btn {
        background-color: #fe424d;
        color: white;
        border-radius: 25px;
        height: 40px; 
        padding: 0 1.2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        border: none;
        transition: 0.3s;
        font-weight: 500;
    }

    .search-btn:hover {
        background-color: #d9303a;
        color: white;
    }

    .search-input {
        border-radius: 25px !important;
        height: 40px;
        font-size: 0.9rem;
        border: 1px solid #ddd !important;
    }

    /* Laptop/Desktop Alignment */
    @media (min-width: 992px) {
        .search-container-custom {
            min-width: 400px; 
            max-width: 600px;
            gap: 10px !important;
            margin-left: auto !important;
            margin-right: auto !important;
        }
        .search-input {
            flex: 1;
        }
    }

    /* Mobile/Tablet Fix (Deployment Ready) */
    @media (max-width: 991px) {
        .search-container-custom {
            flex-wrap: nowrap !important;
            width: 95% !important; /* Mobile screen ke hisaab se perfect width */
            padding: 0 10px; 
            gap: 10px !important; /* Input aur Button ke beech space */
            margin: 10px auto !important;
            display: flex !important; /* Ensure flexbox is active */
        }
        
        .search-input {
            height: 40px !important;
            font-size: 0.85rem !important;
            flex: 1 !important; 
            min-width: 0; 
            border-radius: 20px !important;
        }

        .search-btn {
            height: 40px !important;
            width: 45px !important; /* Button ki width fix ki */
            padding: 0 !important; 
            flex: 0 0 45px !important; /* Isse button pichkega nahi */
            border-radius: 50% !important; /* Gol (Circular) Button */
            background-color: #fe424d !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }

        /* Mobile pe sirf icon dikhega, text hide hoga */
        .search-btn span {
            display: none !important; 
        }

        /* Icon styling */
        .search-btn i {
            display: inline-block !important;
            font-size: 1.1rem !important;
            color: white !important;
            visibility: visible !important;
        }
    }
</style>

<nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top shadow-sm py-1">
    <div class="container-fluid px-md-4">
        
        <div class="d-flex align-items-center">
            <a class="navbar-brand text-danger" href="/listings">
                <i class="fa-solid fa-compass" style="font-size: 1.8rem;"></i>
            </a>
            <a class="nav-explore d-none d-md-block text-decoration-none" href="/listings" style="color: #222; font-weight: 500; margin-left: 1rem;">Explore</a>
        </div>

        <form class="d-flex align-items-center search-container-custom" role="search" action="/listings" method="GET">
            <select name="country" class="form-select search-input d-none d-lg-block">
                <option value="">Country</option>
                <option value="India">India</option>
                <option value="United Kingdom">UK</option>
                <option value="Italy">Italy</option>
                <option value="United States">USA</option>
            </select>

            <input class="form-control search-input" type="search" name="city" placeholder="Search City..." />

            <button class="btn search-btn shadow-sm" type="submit">
                <i class="fa-solid fa-magnifying-glass"></i> 
                <span>Search</span>
            </button>
        </form>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse flex-grow-0" id="navbarNavAltMarkup">
            <div class="navbar-nav align-items-center ms-auto">
                <a class="nav-link fw-bold" href="/listings/new" style="white-space: nowrap;">Airbnb your home</a>
                <% if (!locals.currUser) { %>
                    <a class="nav-link" href="/signup">Sign up</a>
                    <a class="nav-link" href="/login">Log in</a>
                <% } else { %>
                    <a class="nav-link" href="/logout">Logout</a>
                <% } %>
            </div>
        </div>

    </div>
</nav>